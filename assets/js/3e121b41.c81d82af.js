"use strict";(self.webpackChunkhackathon_book=self.webpackChunkhackathon_book||[]).push([[982],{1313(n,e,i){i.r(e),i.d(e,{assets:()=>a,contentTitle:()=>o,default:()=>h,frontMatter:()=>l,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"module-1/python-agents","title":"Chapter 3: Python AI Agents, rclpy, and Humanoid Descriptions (URDF)","description":"Learning Objectives","source":"@site/docs/module-1/02-python-agents.md","sourceDirName":"module-1","slug":"/module-1/python-agents","permalink":"/hackathon-book/docs/module-1/python-agents","draft":false,"unlisted":false,"editUrl":"https://github.com/anthropics/hackathon-book/tree/main/docs/module-1/02-python-agents.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Chapter 2: ROS 2 Communication","permalink":"/hackathon-book/docs/module-1/communication"}}');var t=i(4848),r=i(8453);const l={},o="Chapter 3: Python AI Agents, rclpy, and Humanoid Descriptions (URDF)",a={},c=[{value:"Learning Objectives",id:"learning-objectives",level:2},{value:"Core Concepts: Introduction to rclpy",id:"core-concepts-introduction-to-rclpy",level:2},{value:"What is rclpy?",id:"what-is-rclpy",level:3},{value:"Installation and Setup",id:"installation-and-setup",level:3},{value:"Node Lifecycle in rclpy",id:"node-lifecycle-in-rclpy",level:3},{value:"Writing Publishers in Python",id:"writing-publishers-in-python",level:2},{value:"Publisher Basics",id:"publisher-basics",level:3},{value:"Example: Simple Joint State Publisher",id:"example-simple-joint-state-publisher",level:3},{value:"Writing Subscribers in Python",id:"writing-subscribers-in-python",level:2},{value:"Subscriber Basics",id:"subscriber-basics",level:3},{value:"Example: Simple Joint State Subscriber",id:"example-simple-joint-state-subscriber",level:3},{value:"Calling Services from Python",id:"calling-services-from-python",level:2},{value:"Service Client Basics",id:"service-client-basics",level:3},{value:"Example: Grasp Planning Service Client",id:"example-grasp-planning-service-client",level:3},{value:"Understanding URDF: Unified Robot Description Format",id:"understanding-urdf-unified-robot-description-format",level:2},{value:"What is URDF?",id:"what-is-urdf",level:3},{value:"URDF Structure: An Example",id:"urdf-structure-an-example",level:3},{value:"Key URDF Elements",id:"key-urdf-elements",level:3},{value:"Joint Types",id:"joint-types",level:3},{value:"Parsing URDF Files in Python",id:"parsing-urdf-files-in-python",level:2},{value:"URDF Parser Example",id:"urdf-parser-example",level:3},{value:"Building AI Agents for Humanoid Control",id:"building-ai-agents-for-humanoid-control",level:2},{value:"Architecture: Integrating URDF, ROS 2 Communication, and AI Planning",id:"architecture-integrating-urdf-ros-2-communication-and-ai-planning",level:3},{value:"Example: Simple Planning Agent Pseudocode",id:"example-simple-planning-agent-pseudocode",level:3},{value:"Summary",id:"summary",level:2},{value:"Review Questions",id:"review-questions",level:2},{value:"Code Examples Location",id:"code-examples-location",level:2},{value:"References",id:"references",level:2}];function d(n){const e={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...n.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e.header,{children:(0,t.jsx)(e.h1,{id:"chapter-3-python-ai-agents-rclpy-and-humanoid-descriptions-urdf",children:"Chapter 3: Python AI Agents, rclpy, and Humanoid Descriptions (URDF)"})}),"\n",(0,t.jsx)(e.h2,{id:"learning-objectives",children:"Learning Objectives"}),"\n",(0,t.jsx)(e.p,{children:"By the end of this chapter, you will be able to:"}),"\n",(0,t.jsxs)(e.ol,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Write functional ROS 2 nodes in Python"})," using rclpy, including publishers, subscribers, and service clients"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Design and execute publisher-subscriber patterns"})," for continuous sensor data and robot state"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Implement synchronous service calls"})," for query and action requests"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Understand URDF (Unified Robot Description Format)"})," XML structure and robot kinematic chains"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Parse URDF files programmatically"})," to extract link hierarchies, joint limits, and inertia properties"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Integrate Python AI planning logic with ROS 2 communication"})," to create autonomous humanoid agents"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Handle real-world challenges"})," in ROS 2 Python programming (timeouts, exceptions, resource cleanup)"]}),"\n"]}),"\n",(0,t.jsx)(e.hr,{}),"\n",(0,t.jsx)(e.h2,{id:"core-concepts-introduction-to-rclpy",children:"Core Concepts: Introduction to rclpy"}),"\n",(0,t.jsx)(e.h3,{id:"what-is-rclpy",children:"What is rclpy?"}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"rclpy"})," (ROS 2 Client Library for Python) is the official Python interface to ROS 2. It enables Python developers to:"]}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"Create nodes that participate in the ROS 2 graph"}),"\n",(0,t.jsx)(e.li,{children:"Publish and subscribe to topics"}),"\n",(0,t.jsx)(e.li,{children:"Call and provide services"}),"\n",(0,t.jsx)(e.li,{children:"Define and execute actions"}),"\n",(0,t.jsx)(e.li,{children:"Access ROS 2 parameters and timers"}),"\n"]}),"\n",(0,t.jsx)(e.p,{children:"rclpy abstracts the underlying ROS 2 middleware (DDS) and provides a Pythonic API."}),"\n",(0,t.jsx)(e.h3,{id:"installation-and-setup",children:"Installation and Setup"}),"\n",(0,t.jsx)(e.p,{children:"rclpy is automatically installed with a standard ROS 2 installation:"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-bash",children:'# Verify rclpy is available\npython3 -c "import rclpy; print(rclpy.__version__)"\n\n# Source your ROS 2 environment\nsource /opt/ros/humble/setup.bash\n'})}),"\n",(0,t.jsx)(e.h3,{id:"node-lifecycle-in-rclpy",children:"Node Lifecycle in rclpy"}),"\n",(0,t.jsx)(e.p,{children:"Every rclpy node follows this pattern:"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-python",children:"import rclpy\nfrom rclpy.node import Node\n\nclass MyNode(Node):\n    def __init__(self):\n        super().__init__('node_name')\n        # Initialize publishers, subscribers, timers here\n\n    def some_method(self):\n        # Your logic here\n        pass\n\ndef main(args=None):\n    rclpy.init(args=args)                    # Initialize ROS 2\n    node = MyNode()                          # Create node\n    rclpy.spin(node)                         # Event loop: listen for messages\n    node.destroy_node()                      # Cleanup\n    rclpy.shutdown()                         # Shutdown ROS 2\n\nif __name__ == '__main__':\n    main()\n"})}),"\n",(0,t.jsx)(e.hr,{}),"\n",(0,t.jsx)(e.h2,{id:"writing-publishers-in-python",children:"Writing Publishers in Python"}),"\n",(0,t.jsx)(e.h3,{id:"publisher-basics",children:"Publisher Basics"}),"\n",(0,t.jsxs)(e.p,{children:["A ",(0,t.jsx)(e.strong,{children:"publisher"})," sends messages to a topic. Other nodes can subscribe and receive copies of those messages."]}),"\n",(0,t.jsx)(e.h3,{id:"example-simple-joint-state-publisher",children:"Example: Simple Joint State Publisher"}),"\n",(0,t.jsx)(e.p,{children:"Let's create a publisher that broadcasts joint state information for a 6-DOF robotic arm:"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-python",children:"#!/usr/bin/env python3\n\"\"\"\nROS 2 Publisher Example: Joint State Publisher\nContinuously publishes joint state information (positions, velocities, efforts).\n\"\"\"\n\nimport rclpy\nfrom rclpy.node import Node\nfrom sensor_msgs.msg import JointState\nimport math\n\n\nclass JointStatePublisher(Node):\n    \"\"\"Node that publishes joint state information.\"\"\"\n\n    def __init__(self):\n        super().__init__('joint_state_publisher')\n\n        # Create a publisher for joint states\n        # Arguments:\n        #   1. Message type: JointState\n        #   2. Topic name: '/robot/joint_states'\n        #   3. Queue size: 10 (buffer up to 10 messages)\n        self.publisher_ = self.create_publisher(\n            JointState,\n            '/robot/joint_states',\n            qos_profile=10)\n\n        # Timer: call callback every 0.1 seconds (10 Hz)\n        timer_period = 0.1\n        self.timer = self.create_timer(timer_period, self.publish_joint_states)\n\n        self.simulation_time = 0.0\n        self.get_logger().info('Joint State Publisher started')\n\n    def publish_joint_states(self):\n        \"\"\"Callback: Publish joint state every 0.1 seconds.\"\"\"\n\n        # Create a JointState message\n        msg = JointState()\n\n        # Set header (timestamp and frame reference)\n        msg.header.stamp = self.get_clock().now().to_msg()\n        msg.header.frame_id = 'robot_base'\n\n        # Define joint names\n        msg.name = [\n            'shoulder_pan_joint',\n            'shoulder_lift_joint',\n            'elbow_flex_joint',\n            'wrist_1_joint',\n            'wrist_2_joint',\n            'wrist_3_joint'\n        ]\n\n        # Simulate joint positions with sinusoidal motion\n        msg.position = [\n            math.sin(self.simulation_time) * 1.57,\n            0.785 + 0.5 * math.cos(self.simulation_time),\n            -1.57 + 0.3 * math.sin(self.simulation_time),\n            math.cos(self.simulation_time) * 0.5,\n            0.0,\n            0.0\n        ]\n\n        # Calculate velocities (derivative of position)\n        msg.velocity = [\n            math.cos(self.simulation_time) * 1.57,\n            -0.5 * math.sin(self.simulation_time),\n            0.3 * math.cos(self.simulation_time),\n            -math.sin(self.simulation_time) * 0.5,\n            0.0,\n            0.0\n        ]\n\n        # Simulate joint efforts (torques)\n        msg.effort = [50.0, 75.0, 30.0, 5.0, 5.0, 5.0]\n\n        # Publish the message\n        self.publisher_.publish(msg)\n\n        # Log periodically\n        if int(self.simulation_time * 10) % 10 == 0:\n            self.get_logger().info(\n                f'Published {len(msg.name)} joint states')\n\n        self.simulation_time += 0.1\n\n\ndef main(args=None):\n    \"\"\"Main entry point.\"\"\"\n    rclpy.init(args=args)\n    node = JointStatePublisher()\n\n    try:\n        rclpy.spin(node)\n    except KeyboardInterrupt:\n        pass\n    finally:\n        node.destroy_node()\n        rclpy.shutdown()\n\n\nif __name__ == '__main__':\n    main()\n"})}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"Key concepts"}),":"]}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"create_publisher()"})," registers the publisher on the topic"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"create_timer()"})," calls a callback function at regular intervals"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"get_clock().now().to_msg()"})," gets the current timestamp in ROS time"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"publisher_.publish(msg)"})," sends the message"]}),"\n"]}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"To run this example"}),":"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-bash",children:"ros2 run <package> 02-python-agents.py\n"})}),"\n",(0,t.jsx)(e.hr,{}),"\n",(0,t.jsx)(e.h2,{id:"writing-subscribers-in-python",children:"Writing Subscribers in Python"}),"\n",(0,t.jsx)(e.h3,{id:"subscriber-basics",children:"Subscriber Basics"}),"\n",(0,t.jsxs)(e.p,{children:["A ",(0,t.jsx)(e.strong,{children:"subscriber"})," receives messages from a topic. When a message arrives, a callback function is invoked."]}),"\n",(0,t.jsx)(e.h3,{id:"example-simple-joint-state-subscriber",children:"Example: Simple Joint State Subscriber"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-python",children:'#!/usr/bin/env python3\n"""\nROS 2 Subscriber Example\nSubscribes to /robot/joint_states and processes messages.\n"""\n\nimport rclpy\nfrom rclpy.node import Node\nfrom sensor_msgs.msg import JointState\n\n\nclass JointStateSubscriber(Node):\n    """Node that subscribes to joint state messages."""\n\n    def __init__(self):\n        super().__init__(\'joint_state_subscriber\')\n\n        # Create a subscription\n        # Arguments:\n        #   1. Message type: JointState\n        #   2. Topic name: \'/robot/joint_states\'\n        #   3. Callback function: called when message arrives\n        #   4. Queue size: 10\n        self.subscription = self.create_subscription(\n            JointState,\n            \'/robot/joint_states\',\n            self.listener_callback,\n            10\n        )\n\n        self.get_logger().info(\'Joint State Subscriber started\')\n\n    def listener_callback(self, msg: JointState):\n        """Callback: Process received joint state message."""\n\n        self.get_logger().info(\n            f\'Received joint state for {len(msg.name)} joints:\\n\'\n            f\'  Joints: {msg.name}\\n\'\n            f\'  Positions (rad): {[round(p, 3) for p in msg.position]}\\n\'\n            f\'  Velocities (rad/s): {[round(v, 3) for v in msg.velocity]}\'\n        )\n\n        # Example: Detect abnormal joint velocities\n        for name, velocity in zip(msg.name, msg.velocity):\n            if abs(velocity) > 2.0:  # Warning threshold\n                self.get_logger().warn(\n                    f\'Joint {name} has high velocity: {velocity} rad/s\')\n\n\ndef main(args=None):\n    """Main entry point."""\n    rclpy.init(args=args)\n    node = JointStateSubscriber()\n\n    try:\n        rclpy.spin(node)\n    except KeyboardInterrupt:\n        pass\n    finally:\n        node.destroy_node()\n        rclpy.shutdown()\n\n\nif __name__ == \'__main__\':\n    main()\n'})}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"Key concepts"}),":"]}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"create_subscription()"})," registers the subscriber on the topic"]}),"\n",(0,t.jsxs)(e.li,{children:["The callback function is called ",(0,t.jsx)(e.strong,{children:"asynchronously"})," when messages arrive"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"rclpy.spin()"})," blocks and processes messages until interrupted"]}),"\n",(0,t.jsx)(e.li,{children:"Subscribers can process messages at their own pace; messages are queued"}),"\n"]}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"To run"}),":"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-bash",children:"# In one terminal (publisher)\nros2 run <package> 02-python-agents.py\n\n# In another terminal (subscriber)\nros2 run <package> 02-python-agents.py\n"})}),"\n",(0,t.jsx)(e.hr,{}),"\n",(0,t.jsx)(e.h2,{id:"calling-services-from-python",children:"Calling Services from Python"}),"\n",(0,t.jsx)(e.h3,{id:"service-client-basics",children:"Service Client Basics"}),"\n",(0,t.jsxs)(e.p,{children:["A ",(0,t.jsx)(e.strong,{children:"service client"})," sends a request to a service and waits for a response. Unlike pub-sub, this is synchronous."]}),"\n",(0,t.jsx)(e.h3,{id:"example-grasp-planning-service-client",children:"Example: Grasp Planning Service Client"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-python",children:'#!/usr/bin/env python3\n"""\nROS 2 Service Client Example\nCalls a grasp planning service to request a grasp trajectory.\n"""\n\nimport rclpy\nfrom rclpy.node import Node\nfrom geometry_msgs.msg import Pose\n\n\nclass GraspClient(Node):\n    """Node that calls the grasp planning service."""\n\n    def __init__(self):\n        super().__init__(\'grasp_client\')\n        self.get_logger().info(\'Grasp Client initialized\')\n\n    def call_grasp_service(self, target_pose):\n        """\n        Call the grasp planning service.\n\n        In a real system, the service interface might be:\n\n        geometry_msgs/PoseStamped target_pose\n        string gripper_type\n        ---\n        bool success\n        trajectory_msgs/JointTrajectory trajectory\n        float32 execution_time_sec\n        """\n\n        self.get_logger().info(\n            f\'Requesting grasp at position: \'\n            f\'({target_pose.position.x:.2f}, \'\n            f\'{target_pose.position.y:.2f}, \'\n            f\'{target_pose.position.z:.2f})\'\n        )\n\n        # In a real implementation:\n        # 1. Create a service client:\n        #    self.cli = self.create_client(GraspPlan, \'/grasp_object\')\n        #\n        # 2. Wait for service availability:\n        #    while not self.cli.wait_for_service(timeout_sec=1.0):\n        #        self.get_logger().info(\'Service not available, waiting...\')\n        #\n        # 3. Create request and send:\n        #    req = GraspPlan.Request()\n        #    req.target_pose = target_pose\n        #    req.gripper_type = \'parallel_gripper\'\n        #    future = self.cli.call_async(req)\n        #    rclpy.spin_until_future_complete(self, future)\n        #    response = future.result()\n\n\ndef main(args=None):\n    """Main entry point."""\n    rclpy.init(args=args)\n    node = GraspClient()\n\n    # Create a target pose (example)\n    target = Pose()\n    target.position.x = 0.5\n    target.position.y = 0.3\n    target.position.z = 0.8\n    target.orientation.w = 1.0  # identity quaternion\n\n    node.call_grasp_service(target)\n\n    node.destroy_node()\n    rclpy.shutdown()\n\n\nif __name__ == \'__main__\':\n    main()\n'})}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"Key concepts"}),":"]}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"create_client()"})," creates a service client"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"wait_for_service()"})," blocks until the service is available"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"call_async()"})," sends the request asynchronously"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"rclpy.spin_until_future_complete()"})," waits for the response"]}),"\n"]}),"\n",(0,t.jsx)(e.hr,{}),"\n",(0,t.jsx)(e.h2,{id:"understanding-urdf-unified-robot-description-format",children:"Understanding URDF: Unified Robot Description Format"}),"\n",(0,t.jsx)(e.h3,{id:"what-is-urdf",children:"What is URDF?"}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"URDF"})," is an XML format that describes a robot's structure:"]}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Links"}),": Rigid bodies with mass and geometry"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Joints"}),": Connections between links with motion constraints"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Inertia"}),": Mass distribution properties for dynamics simulation"]}),"\n"]}),"\n",(0,t.jsx)(e.h3,{id:"urdf-structure-an-example",children:"URDF Structure: An Example"}),"\n",(0,t.jsx)(e.p,{children:"Here's a simplified URDF for a humanoid robot:"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-xml",children:'<?xml version="1.0"?>\n<robot name="simple_humanoid">\n\n  \x3c!-- Base link (torso) --\x3e\n  <link name="base_link">\n    <inertial>\n      <mass value="10.0"/>\n      <inertia ixx="0.1" ixy="0.0" ixz="0.0" iyy="0.1" iyz="0.0" izz="0.1"/>\n    </inertial>\n  </link>\n\n  \x3c!-- Head link --\x3e\n  <link name="head">\n    <inertial>\n      <mass value="2.0"/>\n      <inertia ixx="0.01" ixy="0.0" ixz="0.0" iyy="0.01" iyz="0.0" izz="0.01"/>\n    </inertial>\n  </link>\n\n  \x3c!-- Joint connecting torso to head --\x3e\n  <joint name="head_joint" type="revolute">\n    <parent link="base_link"/>\n    <child link="head"/>\n    <axis xyz="0 0 1"/>\n    \x3c!-- Joint angle limits: -90\xb0 to +90\xb0 (in radians) --\x3e\n    <limit lower="-1.57" upper="1.57" effort="10" velocity="1"/>\n  </joint>\n\n  \x3c!-- Left shoulder --\x3e\n  <link name="left_shoulder">\n    <inertial>\n      <mass value="1.0"/>\n      <inertia ixx="0.005" ixy="0.0" ixz="0.0" iyy="0.005" iyz="0.0" izz="0.005"/>\n    </inertial>\n  </link>\n\n  \x3c!-- Left shoulder joint --\x3e\n  <joint name="left_shoulder_pitch" type="revolute">\n    <parent link="base_link"/>\n    <child link="left_shoulder"/>\n    <axis xyz="1 0 0"/>\n    <limit lower="-1.57" upper="1.57" effort="30" velocity="1"/>\n  </joint>\n\n  \x3c!-- ... more links and joints ... --\x3e\n\n</robot>\n'})}),"\n",(0,t.jsx)(e.h3,{id:"key-urdf-elements",children:"Key URDF Elements"}),"\n",(0,t.jsxs)(e.table,{children:[(0,t.jsx)(e.thead,{children:(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.th,{children:"Element"}),(0,t.jsx)(e.th,{children:"Purpose"}),(0,t.jsx)(e.th,{children:"Example"})]})}),(0,t.jsxs)(e.tbody,{children:[(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"<robot>"})}),(0,t.jsx)(e.td,{children:"Root element; names the robot"}),(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:'<robot name="humanoid">'})})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"<link>"})}),(0,t.jsx)(e.td,{children:"Defines a rigid body"}),(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:'<link name="left_arm">'})})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"<joint>"})}),(0,t.jsx)(e.td,{children:"Connects two links"}),(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:'<joint name="elbow" type="revolute">'})})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:'<parent link="...">'})}),(0,t.jsx)(e.td,{children:"Parent link of the joint"}),(0,t.jsx)(e.td,{children:"Links robot to base_link"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:'<child link="...">'})}),(0,t.jsx)(e.td,{children:"Child link (moved by joint)"}),(0,t.jsx)(e.td,{children:'link="hand"'})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:'<axis xyz="...">'})}),(0,t.jsx)(e.td,{children:"Rotation axis for revolute joints"}),(0,t.jsx)(e.td,{children:'xyz="1 0 0" (x-axis)'})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"<limit>"})}),(0,t.jsx)(e.td,{children:"Joint motion constraints"}),(0,t.jsx)(e.td,{children:"lower, upper, effort, velocity"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"<inertial>"})}),(0,t.jsx)(e.td,{children:"Mass and inertia properties"}),(0,t.jsx)(e.td,{children:"For dynamics simulation"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"<mass>"})}),(0,t.jsx)(e.td,{children:"Link mass in kg"}),(0,t.jsx)(e.td,{children:'value="2.5"'})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"<inertia>"})}),(0,t.jsx)(e.td,{children:"Inertia tensor (moment of inertia)"}),(0,t.jsx)(e.td,{children:"6 values: ixx, ixy, ixz, iyy, iyz, izz"})]})]})]}),"\n",(0,t.jsx)(e.h3,{id:"joint-types",children:"Joint Types"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"revolute"}),": Rotational joint with limited range (e.g., elbow)"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"continuous"}),": Unlimited rotation (e.g., wheel)"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"prismatic"}),": Linear sliding motion (e.g., door on track)"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"fixed"}),": No motion; locks two links together"]}),"\n"]}),"\n",(0,t.jsx)(e.hr,{}),"\n",(0,t.jsx)(e.h2,{id:"parsing-urdf-files-in-python",children:"Parsing URDF Files in Python"}),"\n",(0,t.jsx)(e.h3,{id:"urdf-parser-example",children:"URDF Parser Example"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-python",children:'#!/usr/bin/env python3\n"""\nSimple URDF Parser: Extract robot structure from XML.\n"""\n\nimport xml.etree.ElementTree as ET\n\n\nclass URDFParser:\n    """Parse and analyze URDF files."""\n\n    def __init__(self, urdf_file_path):\n        """Initialize parser with URDF file path."""\n        self.urdf_file = urdf_file_path\n        self.tree = ET.parse(urdf_file_path)\n        self.root = self.tree.getroot()\n        self.robot_name = self.root.get(\'name\', \'unknown\')\n\n    def get_links(self):\n        """Extract all links from the URDF."""\n        links = []\n        for link in self.root.findall(\'link\'):\n            link_name = link.get(\'name\')\n            links.append(link_name)\n        return links\n\n    def get_joints(self):\n        """Extract all joints and their properties."""\n        joints = []\n        for joint in self.root.findall(\'joint\'):\n            joint_name = joint.get(\'name\')\n            joint_type = joint.get(\'type\')\n            parent = joint.find(\'parent\').get(\'link\')\n            child = joint.find(\'child\').get(\'link\')\n\n            # Extract joint limits\n            limit = joint.find(\'limit\')\n            lower = float(limit.get(\'lower\', 0)) if limit is not None else 0\n            upper = float(limit.get(\'upper\', 0)) if limit is not None else 0\n\n            joints.append({\n                \'name\': joint_name,\n                \'type\': joint_type,\n                \'parent\': parent,\n                \'child\': child,\n                \'lower_limit\': lower,\n                \'upper_limit\': upper\n            })\n        return joints\n\n    def print_structure(self):\n        """Print the robot structure."""\n        print(f"Robot: {self.robot_name}\\n")\n\n        links = self.get_links()\n        print(f"Links ({len(links)}):")\n        for link in links:\n            print(f"  - {link}")\n\n        joints = self.get_joints()\n        print(f"\\nJoints ({len(joints)}):")\n        for joint in joints:\n            print(f"  - {joint[\'name\']} ({joint[\'type\']})")\n            print(f"    {joint[\'parent\']} \u2192 {joint[\'child\']}")\n            print(f"    Range: [{joint[\'lower_limit\']:.2f}, {joint[\'upper_limit\']:.2f}] rad")\n\n\ndef main():\n    """Main function."""\n    urdf_file = \'docs/module-1/code-examples/02-humanoid-example.urdf\'\n\n    try:\n        parser = URDFParser(urdf_file)\n        parser.print_structure()\n    except FileNotFoundError:\n        print(f"Error: URDF file \'{urdf_file}\' not found.")\n    except ET.ParseError as e:\n        print(f"Error parsing URDF: {e}")\n\n\nif __name__ == \'__main__\':\n    main()\n'})}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"Output"})," (for the humanoid example):"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:"Robot: simple_humanoid\n\nLinks (13):\n  - base_link\n  - head\n  - left_shoulder\n  - left_elbow\n  - left_hand\n  - right_shoulder\n  - right_elbow\n  - right_hand\n  - left_hip\n  - left_knee\n  - left_foot\n  - right_hip\n  - right_knee\n  - right_foot\n\nJoints (12):\n  - head_joint (revolute)\n    base_link \u2192 head\n    Range: [-1.57, 1.57] rad\n  - left_shoulder_pitch (revolute)\n    base_link \u2192 left_shoulder\n    Range: [-1.57, 1.57] rad\n  ... (more joints)\n"})}),"\n",(0,t.jsx)(e.hr,{}),"\n",(0,t.jsx)(e.h2,{id:"building-ai-agents-for-humanoid-control",children:"Building AI Agents for Humanoid Control"}),"\n",(0,t.jsx)(e.h3,{id:"architecture-integrating-urdf-ros-2-communication-and-ai-planning",children:"Architecture: Integrating URDF, ROS 2 Communication, and AI Planning"}),"\n",(0,t.jsx)(e.p,{children:"A complete AI agent for humanoid control integrates three components:"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                    AI Planning Agent Node                     \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                                                \u2502\n\u2502  1. Robot Model (URDF):                                      \u2502\n\u2502     \u251c\u2500 Load URDF file                                        \u2502\n\u2502     \u251c\u2500 Extract link hierarchy and joint limits              \u2502\n\u2502     \u2514\u2500 Build kinematic chain for IK calculations             \u2502\n\u2502                                                                \u2502\n\u2502  2. Perception Subscriber:                                   \u2502\n\u2502     \u251c\u2500 Subscribe to /robot/perception/obstacles             \u2502\n\u2502     \u251c\u2500 Subscribe to /robot/camera/rgb/image_raw            \u2502\n\u2502     \u2514\u2500 Build world model (object positions, obstacles)       \u2502\n\u2502                                                                \u2502\n\u2502  3. Planning Logic:                                          \u2502\n\u2502     \u251c\u2500 Inverse kinematics (URDF \u2192 joint angles)             \u2502\n\u2502     \u251c\u2500 Collision checking (URDF + world model)             \u2502\n\u2502     \u2514\u2500 Trajectory generation                                \u2502\n\u2502                                                                \u2502\n\u2502  4. Action Publisher:                                        \u2502\n\u2502     \u2514\u2500 Publish /robot/planning/trajectory                   \u2502\n\u2502                                                                \u2502\n\u2502  5. Service Clients:                                         \u2502\n\u2502     \u251c\u2500 Call /grasp_planner (if object is graspable)         \u2502\n\u2502     \u2514\u2500 Call /safety_check (verify trajectory)               \u2502\n\u2502                                                                \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n"})}),"\n",(0,t.jsx)(e.h3,{id:"example-simple-planning-agent-pseudocode",children:"Example: Simple Planning Agent Pseudocode"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-python",children:'#!/usr/bin/env python3\n"""\nExample: AI Planning Agent for Humanoid Robot.\n\nThis agent:\n1. Reads robot description (URDF)\n2. Subscribes to perception (obstacles, objects)\n3. Plans grasp trajectory using kinematics\n4. Publishes planned trajectory\n"""\n\nimport rclpy\nfrom rclpy.node import Node\nfrom sensor_msgs.msg import JointState\nfrom geometry_msgs.msg import PoseStamped, Twist\nimport xml.etree.ElementTree as ET\n\n\nclass PlanningAgent(Node):\n    """AI agent for humanoid manipulation tasks."""\n\n    def __init__(self, urdf_file):\n        super().__init__(\'planning_agent\')\n\n        # Load robot model from URDF\n        self.robot_urdf = URDFParser(urdf_file)\n        self.get_logger().info(\n            f\'Loaded robot: {self.robot_urdf.robot_name} \'\n            f\'with {len(self.robot_urdf.get_joints())} joints\')\n\n        # Subscribe to perception data\n        self.object_subscriber = self.create_subscription(\n            PoseStamped,\n            \'/robot/perception/detected_objects\',\n            self.on_object_detected,\n            10\n        )\n\n        # Subscribe to joint state feedback\n        self.joint_state_subscriber = self.create_subscription(\n            JointState,\n            \'/robot/arm/joint_states\',\n            self.on_joint_state,\n            10\n        )\n\n        # Publisher for planned trajectory\n        self.trajectory_publisher = self.create_publisher(\n            Twist,  # In real system: trajectory_msgs/JointTrajectory\n            \'/robot/planning/trajectory\',\n            10\n        )\n\n        # State tracking\n        self.current_joint_state = None\n        self.detected_objects = []\n\n    def on_object_detected(self, msg: PoseStamped):\n        """Callback: New object detected by perception system."""\n        self.get_logger().info(\n            f\'Detected object at ({msg.pose.position.x:.2f}, \'\n            f\'{msg.pose.position.y:.2f}, \'\n            f\'{msg.pose.position.z:.2f})\')\n\n        self.detected_objects.append(msg)\n\n        # Trigger planning\n        self.plan_grasp(msg.pose)\n\n    def on_joint_state(self, msg: JointState):\n        """Callback: Update current joint state."""\n        self.current_joint_state = msg\n\n    def plan_grasp(self, target_pose):\n        """\n        Plan a grasp trajectory to the target pose.\n\n        Steps:\n        1. Inverse kinematics: target_pose \u2192 joint angles\n        2. Collision checking: verify trajectory doesn\'t hit obstacles\n        3. Generate trajectory: smooth path from current to target\n        4. Publish trajectory\n        """\n\n        if self.current_joint_state is None:\n            self.get_logger().warn(\'No joint state available yet\')\n            return\n\n        # Step 1: Inverse Kinematics\n        target_joint_angles = self.inverse_kinematics(target_pose)\n        if target_joint_angles is None:\n            self.get_logger().error(\'IK solution not found\')\n            return\n\n        # Step 2: Collision Check\n        if not self.check_collision_free(target_joint_angles):\n            self.get_logger().warn(\'Collision detected in planned trajectory\')\n            return\n\n        # Step 3: Trajectory Generation\n        trajectory = self.generate_trajectory(\n            self.current_joint_state.position,\n            target_joint_angles)\n\n        # Step 4: Publish Trajectory\n        msg = Twist()  # In real system: JointTrajectory message\n        self.trajectory_publisher.publish(msg)\n        self.get_logger().info(\'Trajectory published\')\n\n    def inverse_kinematics(self, target_pose):\n        """\n        Solve inverse kinematics: target end-effector pose \u2192 joint angles.\n\n        In a real implementation, you would use:\n        - KDL (Kinematics and Dynamics Library)\n        - PyBullet\n        - Drake (from Toyota Research Institute)\n        """\n        # Placeholder: return dummy joint angles\n        joints = self.robot_urdf.get_joints()\n        return [0.0] * len(joints)\n\n    def check_collision_free(self, joint_angles):\n        """\n        Verify trajectory is collision-free.\n\n        Uses URDF link geometry to check for self-collisions\n        and collisions with perceived obstacles.\n        """\n        # Placeholder: always return True\n        return True\n\n    def generate_trajectory(self, current_angles, target_angles):\n        """Generate a smooth trajectory using linear interpolation."""\n        # Placeholder: return straight-line trajectory\n        steps = 10\n        trajectory = []\n        for i in range(steps):\n            t = i / (steps - 1)\n            angles = [\n                current + t * (target - current)\n                for current, target in zip(current_angles, target_angles)\n            ]\n            trajectory.append(angles)\n        return trajectory\n\n\nclass URDFParser:\n    """Simplified URDF parser."""\n    def __init__(self, urdf_file):\n        self.tree = ET.parse(urdf_file)\n        self.root = self.tree.getroot()\n        self.robot_name = self.root.get(\'name\')\n\n    def get_joints(self):\n        return self.root.findall(\'joint\')\n\n\ndef main(args=None):\n    """Main entry point."""\n    rclpy.init(args=args)\n\n    urdf_file = \'docs/module-1/code-examples/02-humanoid-example.urdf\'\n    agent = PlanningAgent(urdf_file)\n\n    try:\n        rclpy.spin(agent)\n    except KeyboardInterrupt:\n        pass\n    finally:\n        agent.destroy_node()\n        rclpy.shutdown()\n\n\nif __name__ == \'__main__\':\n    main()\n'})}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"Key insights"}),":"]}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:["The agent combines ",(0,t.jsx)(e.strong,{children:"URDF knowledge"})," (kinematic chain), ",(0,t.jsx)(e.strong,{children:"perception"})," (detected objects), ",(0,t.jsx)(e.strong,{children:"planning"})," (IK, collision checking), and ",(0,t.jsx)(e.strong,{children:"ROS 2 communication"})," (pub-sub, services)"]}),"\n",(0,t.jsx)(e.li,{children:"This is a simplified example; real systems use libraries like KDL or PyBullet for kinematics"}),"\n",(0,t.jsx)(e.li,{children:"Error handling and timeouts are critical for robust autonomous systems"}),"\n"]}),"\n",(0,t.jsx)(e.hr,{}),"\n",(0,t.jsx)(e.h2,{id:"summary",children:"Summary"}),"\n",(0,t.jsx)(e.p,{children:"This chapter taught you how to write Python ROS 2 nodes and integrate them with robot descriptions:"}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"rclpy Patterns"}),":"]}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"Publishers broadcast continuous data to topics"}),"\n",(0,t.jsx)(e.li,{children:"Subscribers receive messages asynchronously"}),"\n",(0,t.jsx)(e.li,{children:"Service clients send requests and wait for responses"}),"\n"]}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"URDF and Robot Models"}),":"]}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"URDF files describe robot structure (links, joints, inertia)"}),"\n",(0,t.jsx)(e.li,{children:"Parse URDF with XML to extract kinematic chains"}),"\n",(0,t.jsx)(e.li,{children:"Use URDF in planning algorithms (IK, collision checking)"}),"\n"]}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"AI Agents for Humanoid Control"}),":"]}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"Combine perception (subscribers), planning (logic), and action (publishers)"}),"\n",(0,t.jsx)(e.li,{children:"Use URDF for kinematic understanding"}),"\n",(0,t.jsx)(e.li,{children:"Handle failures gracefully with timeouts and error checking"}),"\n"]}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"Next steps"}),": Deploy your agents on a real robot or simulator (Gazebo, MuJoCo) and test autonomous behavior."]}),"\n",(0,t.jsx)(e.hr,{}),"\n",(0,t.jsx)(e.h2,{id:"review-questions",children:"Review Questions"}),"\n",(0,t.jsxs)(e.ol,{children:["\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"What are the three main components of an rclpy node, and how do they interact?"})}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"Explain the difference between a publisher that runs at 100 Hz and a subscriber that processes messages. How are they decoupled?"})}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"Write pseudocode to create a ROS 2 publisher that publishes camera images at 30 Hz. What message type would you use?"})}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"What is the advantage of using service clients instead of topics for requesting a grasp plan?"})}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"Describe the structure of a URDF file. What are the four most important elements?"})}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"A humanoid robot has 15 joints. How would you extract all joint names and their rotation axes from a URDF file using XML parsing?"})}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsx)(e.p,{children:(0,t.jsxs)(e.strong,{children:["In the planning agent example, why is it important to check ",(0,t.jsx)(e.code,{children:"self.current_joint_state"})," before planning?"]})}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:'What does "inverse kinematics" mean? Why is it needed to grasp an object at a target position?'})}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"Design an AI agent that:"})}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"Subscribes to perceived obstacles"}),"\n",(0,t.jsx)(e.li,{children:"Plans a collision-free path"}),"\n",(0,t.jsx)(e.li,{children:"Publishes the planned trajectory"}),"\n"]}),"\n",(0,t.jsx)(e.p,{children:"Describe the ROS 2 topics, message types, and node structure."}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"A subscriber receives joint states at 100 Hz, but your collision checking algorithm runs at only 10 Hz. How would you handle this rate mismatch?"})}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsx)(e.p,{children:(0,t.jsxs)(e.strong,{children:["Explain how URDF joint limits (e.g., ",(0,t.jsx)(e.code,{children:'<limit lower="-1.57" upper="1.57"/>'}),") constrain an IK solver."]})}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"What errors might occur when calling a service? How would you handle timeouts in rclpy?"})}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"A humanoid arm has 6 DOF (degrees of freedom). Describe how you would use URDF to verify that a target grasp pose is kinematically feasible."})}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"What is the role of the header timestamp in JointState messages? Why is it important for multi-agent robots?"})}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"Design a safety-aware planning agent that checks for collisions before publishing a trajectory. What safeguards would you implement?"})}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(e.hr,{}),"\n",(0,t.jsx)(e.h2,{id:"code-examples-location",children:"Code Examples Location"}),"\n",(0,t.jsx)(e.p,{children:"All code examples referenced in this chapter are available in:"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"01-publisher.py"})," \u2014 Simple joint state publisher"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"01-subscriber.py"})," \u2014 Simple joint state subscriber"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"01-service-client.py"})," \u2014 Grasp service client"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"02-humanoid-example.urdf"})," \u2014 Sample 12-joint humanoid robot"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"02-urdf-parser.py"})," \u2014 URDF parsing utility"]}),"\n"]}),"\n",(0,t.jsx)(e.p,{children:"To run these examples, ensure your ROS 2 environment is sourced and the package is properly set up."}),"\n",(0,t.jsx)(e.hr,{}),"\n",(0,t.jsx)(e.h2,{id:"references",children:"References"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:(0,t.jsx)(e.a,{href:"https://docs.ros.org/en/humble/Packages/Development-tools/rclpy/index.html",children:"rclpy Documentation"})}),"\n",(0,t.jsx)(e.li,{children:(0,t.jsx)(e.a,{href:"https://docs.ros.org/en/humble/Tutorials/Beginner-Client-Libraries/Writing-A-Simple-Py-Publisher-And-Subscriber.html",children:"ROS 2 Python Client Library Guide"})}),"\n",(0,t.jsx)(e.li,{children:(0,t.jsx)(e.a,{href:"https://wiki.ros.org/urdf/XML",children:"URDF XML Specification"})}),"\n",(0,t.jsx)(e.li,{children:(0,t.jsx)(e.a,{href:"https://github.com/orocos/orocos_kinematics_dynamics",children:"KDL: Kinematics and Dynamics Library"})}),"\n",(0,t.jsx)(e.li,{children:(0,t.jsx)(e.a,{href:"https://github.com/ros2/common_interfaces",children:"ROS 2 Message Types"})}),"\n"]})]})}function h(n={}){const{wrapper:e}={...(0,r.R)(),...n.components};return e?(0,t.jsx)(e,{...n,children:(0,t.jsx)(d,{...n})}):d(n)}},8453(n,e,i){i.d(e,{R:()=>l,x:()=>o});var s=i(6540);const t={},r=s.createContext(t);function l(n){const e=s.useContext(r);return s.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function o(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(t):n.components||t:l(n.components),s.createElement(r.Provider,{value:e},n.children)}}}]);